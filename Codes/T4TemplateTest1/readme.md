* Step 1: Create a MyTextTemplate.tt file, and set the "Custom Tool" of this file as "TextTemplatingFilePreprocessor" on [properties] view.

* Step 2: Edit the  MyTextTemplate.tt, see MyTextTemplate.tt

* Step 3: Create a MyTextTemplate.CodeBehind.cs, it's a partial class of MyTextTemplate.cs, which is generated by MyTextTemplate.tt. see  MyTextTemplate.CodeBehind.cs.

* Step 4: Install-Package System.CodeDom

* Step 5: Uses the generated MyTextTemplate to generate code at runtime.
```csharp
TestModel model = new TestModel("Person2", typeof(Person).GetProperties());
MyTextTemplate tt = new MyTextTemplate();
tt.Model = model;
string code = tt.TransformText();
Console.WriteLine(code);
```
